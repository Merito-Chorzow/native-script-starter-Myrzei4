{"version":3,"file":"nativescript-angular-polyfills.mjs","sources":["../../../../packages/angular/polyfills/src/index.ts","../../../../packages/angular/polyfills/src/nativescript-angular-polyfills.ts"],"sourcesContent":["import { AbortController, AbortSignal } from '@nativescript/core/abortcontroller';\nexport const nsNgPolyfills = true;\n\nglobal.performance ??= {} as unknown as Performance;\n\nfunction getPerformanceObject() {\n  const loadTime = Date.now();\n  const performance: Partial<Performance> = {\n    timeOrigin: loadTime,\n    now() {\n      return Date.now() - loadTime;\n    },\n    mark(name: string, options: PerformanceMarkOptions) {\n      return {\n        detail: options?.detail,\n        duration: 0,\n        entryType: 'mark',\n        name,\n        startTime: options?.startTime ?? Date.now() - loadTime,\n        toJSON: () => {\n          ('');\n        },\n      };\n    },\n  };\n  return performance;\n}\n\nconst polyfilledPerformance = getPerformanceObject();\n\nfor (const key in polyfilledPerformance) {\n  global.performance[key] ??= polyfilledPerformance[key];\n}\n\nif (typeof queueMicrotask === 'undefined') {\n  global.queueMicrotask = (cb) => Promise.resolve().then(cb);\n}\n\nif (typeof global.AbortController === 'undefined') {\n  // @ts-ignore\n  global.AbortController = AbortController;\n}\n\nif (typeof global.AbortSignal === 'undefined') {\n  // @ts-ignore\n  global.AbortSignal = AbortSignal;\n}\n\nif (typeof queueMicrotask === 'undefined') {\n  global.queueMicrotask = (cb) => Promise.resolve().then(cb);\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;AACO,MAAM,aAAa,GAAG;AAE7B,MAAM,CAAC,WAAW,KAAK,EAA4B;AAEnD,SAAS,oBAAoB,GAAA;AAC3B,IAAA,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,EAAE;AAC3B,IAAA,MAAM,WAAW,GAAyB;AACxC,QAAA,UAAU,EAAE,QAAQ;QACpB,GAAG,GAAA;AACD,YAAA,OAAO,IAAI,CAAC,GAAG,EAAE,GAAG,QAAQ;SAC7B;QACD,IAAI,CAAC,IAAY,EAAE,OAA+B,EAAA;YAChD,OAAO;gBACL,MAAM,EAAE,OAAO,EAAE,MAAM;AACvB,gBAAA,QAAQ,EAAE,CAAC;AACX,gBAAA,SAAS,EAAE,MAAM;gBACjB,IAAI;gBACJ,SAAS,EAAE,OAAO,EAAE,SAAS,IAAI,IAAI,CAAC,GAAG,EAAE,GAAG,QAAQ;gBACtD,MAAM,EAAE,MAAK;oBACX,CAAC,EAAE;iBACJ;aACF;SACF;KACF;AACD,IAAA,OAAO,WAAW;AACpB;AAEA,MAAM,qBAAqB,GAAG,oBAAoB,EAAE;AAEpD,KAAK,MAAM,GAAG,IAAI,qBAAqB,EAAE;IACvC,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,qBAAqB,CAAC,GAAG,CAAC;AACxD;AAEA,IAAI,OAAO,cAAc,KAAK,WAAW,EAAE;AACzC,IAAA,MAAM,CAAC,cAAc,GAAG,CAAC,EAAE,KAAK,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC;AAC5D;AAEA,IAAI,OAAO,MAAM,CAAC,eAAe,KAAK,WAAW,EAAE;;AAEjD,IAAA,MAAM,CAAC,eAAe,GAAG,eAAe;AAC1C;AAEA,IAAI,OAAO,MAAM,CAAC,WAAW,KAAK,WAAW,EAAE;;AAE7C,IAAA,MAAM,CAAC,WAAW,GAAG,WAAW;AAClC;AAEA,IAAI,OAAO,cAAc,KAAK,WAAW,EAAE;AACzC,IAAA,MAAM,CAAC,cAAc,GAAG,CAAC,EAAE,KAAK,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC;AAC5D;;AClDA;;AAEG;;;;"}