<ActionBar title="Products"></ActionBar>

<GridLayout rows="auto, auto, *" class="p-4">
  <StackLayout row="0" orientation="horizontal">
    <Button text="Add Product" class="btn btn-primary" (tap)="goToAdd()"></Button>
  </StackLayout>

  <Label row="1" *ngIf="isLoading()" text="Loadingâ€¦" class="mt-2"></Label>/>
  <Label row="1" *ngIf="error()" [text]="error()" class="mt-2"></Label> />

  <ListView [items]="products()" row="2" (itemTap)="onItemTap($event)">
    <ng-template let-product="item">
      <GridLayout columns="60, *" class="list-item p-2">
        <Image col="0" [src]="product.imageUrl" width="60" height="60" stretch="aspectFill" *ngIf="product.imageUrl"></Image>

        <StackLayout col="1" class="ml-2">
          <Label [text]="product.name" class="text-lg"></Label>
          <Label [text]="product.code" class="text-sm text-gray-500"></Label>
          <Label [text]="product.status === 'active' ? 'Active' : 'Inactive'" class="text-sm status-badge"></Label>
        </StackLayout>
      </GridLayout>
    </ng-template>
  </ListView>
</GridLayout>